bug_id,patch
BITCOUNT,"public static int bitcount(int n) {
int count = 0;
while (n != 0) {
n = (n & (n - 1));
count++;
}
return count;
}"
DEPTH_FIRST_SEARCH,"public static boolean depth_first_search(Node startnode, Node goalnode) {
        Set<Node> nodesvisited = new HashSet<>();
        class Search {
            boolean search(Node node) {
                if (nodesvisited.contains(node)) {
                    return false;
                } else if (node == goalnode) {
                    return true;
                } else {
                        nodesvisited.add(node);
                    for (Node successornodes : node.getSuccessors()) {
                        if (search(successornodes)) { return true; }
                    }
                }
                return false;
            }
        };

        Search s = new Search();
        return s.search(startnode);
 }"
FLATTEN,"public static Object flatten(Object arr) {
        if (arr instanceof ArrayList) {
            ArrayList narr = (ArrayList) arr;
            ArrayList result = new ArrayList(50);
            for (Object x : narr) {
                if (x instanceof ArrayList) {
                    result.addAll((ArrayList) flatten(x));
                } else {
                    result.add((x));
                }
            }
            return result;
        } else {
            return arr;
        }
}"
GCD,"public static int gcd(int a, int b) {
        if (b == 0) {
            return a;
        } else {
            return gcd(b, a%b);
        }
}"
HANOI,"public static List<Pair<Integer,Integer>> hanoi(int height, int start, int end) {
   ArrayList<Pair<Integer,Integer>> steps = new ArrayList<Pair<Integer,Integer>>();

        if (height > 0) {
            PriorityQueue<Integer> crap_set = new PriorityQueue<Integer>();
            crap_set.add(1);
            crap_set.add(2);
            crap_set.add(3);
            crap_set.remove(start);
            crap_set.remove(end);
            int helper = crap_set.poll();
            steps.addAll(hanoi(height-1, start, helper));
            steps.add(new Pair<Integer,Integer>(start, end));
            steps.addAll(hanoi(height-1, helper, end));
        }

        return steps;
}"
KHEAPSORT,"public static ArrayList<Integer> kheapsort(ArrayList<Integer> arr, int k) {
       PriorityQueue<Integer> heap = new PriorityQueue<Integer>();
        for (Integer v : arr.subList(0,k)) {
            heap.add(v);
        }

        ArrayList<Integer> output = new ArrayList<Integer>();
        for (Integer x : arr.subList(k, arr.size())) {
            heap.add(x);
            Integer popped = heap.poll();
            output.add(popped);
        }

        while (!heap.isEmpty()) {
            output.add(heap.poll());
        }

        return output;

}"
KNAPSACK,"public static int knapsack(int capacity, int [][] items) {
        int weight = 0, value = 0;
        int n = items.length;
        int memo[][] = new int[n + 1][capacity + 1];

        for (int i = 0; i <= n ; i++)
        {
            if (i - 1 >= 0) {
                weight = items[i - 1][0];
                value = items[i - 1][1];
            }
            for (int j = 0; j <= capacity; j++)
            {
                if (i == 0 || j == 0) {
                    memo[i][j] = 0;
                }
                else if (weight <= j) {
                    memo[i][j] = Math.max(memo[i - 1][j], value + memo[i - 1][j - weight]);
                }
                else {
                    memo[i][j] = memo [i-1][j];
                }

            }
        }
        return memo[n][capacity];
}"
KTH,"public static Integer kth(ArrayList<Integer> arr, int k) {
        int pivot = arr.get(0);
        ArrayList<Integer> below, above;
        below = new ArrayList<Integer>(arr.size());
        above = new ArrayList<Integer>(arr.size());
        for (Integer x : arr) {
            if (x < pivot) {
                below.add(x);
            } else if (x > pivot) {
                above.add(x);
            }
        }

        int num_less = below.size();
        int num_lessoreq = arr.size() - above.size();
        if (k < num_less) {
            return kth(below, k);
        } else if (k >= num_lessoreq) {
            return kth(above, k-num_lessoreq);
        } else {
            return pivot;
        }
    }"
LEVENSHTEIN,"public static int levenshtein(String source, String target) {
        if (source.isEmpty() || target.isEmpty()) {
            return source.isEmpty() ? target.length() : source.length();
        } else if (source.charAt(0) == target.charAt(0)) {
            return levenshtein(source.substring(1), target.substring(1));
        } else {
            return 1 + Math.min(Math.min(
                    levenshtein(source,              target.substring(1)),
                    levenshtein(source.substring(1), target.substring(1))),
                    levenshtein(source.substring(1), target)
        );
        }
    }"
LIS,"public static int lis(int[] arr) {
        Map<Integer,Integer> ends = new HashMap<Integer, Integer>(100);
        int longest = 0;

        int i = 0;
        for (int val : arr) {

            ArrayList<Integer> prefix_lengths = new ArrayList<Integer>(100);
            for (int j=1; j < longest+1; j++) {
                if (arr[ends.get(j)] < val) {
                    prefix_lengths.add(j);
                }
            }

            int length = !prefix_lengths.isEmpty() ? Collections.max(prefix_lengths) : 0;

            if (length == longest || val < arr[ends.get(length+1)]) {
                ends.put(length+1, i);
                longest = Math.max(longest,length + 1);
            }

            i++;
        }
        return longest;
    }"
MERGESORT,"public static ArrayList<Integer> mergesort(ArrayList<Integer> arr) {
        if (arr.size() <= 1) { // <= 1 in correct version
            return arr;
        } else {
            int middle = arr.size() / 2;
            ArrayList<Integer> left = new ArrayList<Integer>(100);
            left.addAll(arr.subList(0,middle));
            left = mergesort(left);
            ArrayList<Integer> right = new ArrayList<Integer>(100);
            right.addAll(arr.subList(middle, arr.size()));
            right = mergesort(right);

            return merge(left, right);
        }
    }"
NEXT_PALINDROME,"public static String next_palindrome(int[] digit_list) {
        int high_mid = Math.floorDiv(digit_list.length, 2);
        int low_mid = Math.floorDiv(digit_list.length - 1, 2);

        while (high_mid < digit_list.length && low_mid >= 0) {
            if (digit_list[high_mid] == 9) {
                digit_list[high_mid] = 0;
                digit_list[low_mid] = 0;
                high_mid += 1;
                low_mid -= 1;
            } else {
                digit_list[high_mid] += 1;
                if (low_mid != high_mid) {
                    digit_list[low_mid] += 1;
                }
                return Arrays.toString(digit_list);
            }
        }

        ArrayList<Integer> otherwise = new ArrayList<Integer>();
	otherwise.add(1);
	otherwise.addAll(Collections.nCopies(digit_list.length-1, 0));
	otherwise.add(1);

        return String.valueOf(otherwise);
    }"
PASCAL,"public static ArrayList<ArrayList<Integer>> pascal(int n) {
        ArrayList<ArrayList<Integer>> rows = new ArrayList<ArrayList<Integer>>();
        ArrayList<Integer> init = new ArrayList<Integer>();
        init.add(1);
        rows.add(init);

        for (int r=1; r<n; r++) {
            ArrayList<Integer> row = new ArrayList<Integer>();
            for (int c=0; c<r+1; c++) {
                int upleft, upright;
                if (c > 0) {
                    upleft = rows.get(r-1).get(c-1);
                } else {
                    upleft = 0;
                }
                if (c < r) {
                    upright = rows.get(r-1).get(c);
                } else {
                    upright = 0;
                }
                row.add(upleft+upright);
            }
            rows.add(row);
        }

        return rows;
    }"
POSSIBLE_CHANGE,"public static int possible_change(int[] coins, int total) {
        if (total == 0) {
            return 1;
        }
        if (total < 0 ||coins.length==0) {
            return 0;
        }

        int first = coins[0];
        int[] rest = Arrays.copyOfRange(coins, 1, coins.length);
        return possible_change(coins, total-first) + possible_change(rest, total);
    }"
REVERSE_LINKED_LIST,"public static Node reverse_linked_list(Node node) {
        Node prevnode = null;
        Node nextnode;
        while (node != null) {
            nextnode = node.getSuccessor();
            node.setSuccessor(prevnode);
            prevnode = node;
            node = nextnode;
        }
        return prevnode;
}"
RPN_EVAL,"public static Double rpn_eval(ArrayList tokens) {
	Map<String, BinaryOperator<Double>> op = new HashMap<String, BinaryOperator<Double>>();
	op.put(""+"", (a, b) -> a + b); 
	op.put(""-"", (a, b) -> a - b); 
	op.put(""*"", (a, b) -> a * b); 
	op.put(""/"", (a, b) -> a / b); 
	

        Stack stack = new Stack();

        for (Object token : tokens) {
            if (Double.class.isInstance(token)) {
                stack.push((Double) token);
            } else {
		token = (String) token;
                Double a = (Double) stack.pop();
                Double b = (Double) stack.pop();
		Double c = 0.0;
		BinaryOperator<Double> bin_op = op.get(token);
		c = bin_op.apply(b,a);
                stack.push(c);
            }
        }

        return (Double) stack.pop();
    }"
SQRT,"public static double sqrt(double x, double epsilon) {
        double approx = x / 2d;
        while (Math.abs(x-approx*approx) > epsilon) {
            approx = 0.5d * (approx + x / approx);
        }
        return approx;
}"
